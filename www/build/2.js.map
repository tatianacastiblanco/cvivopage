{"version":3,"sources":["../../src/pages/chat/chat.module.ts","../../src/pages/home/home.module.ts","../../src/data/Helper.ts","../../src/pages/chat/chat.ts","../../src/pages/home/home.ts","../../src/components/components.module.ts","../../src/components/menu/menu.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ChatPage } from './chat';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ChatPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ChatPage),\r\n  ],\r\n  exports:[ChatPage]\r\n})\r\nexport class ChatPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.module.ts","import { ChatPageModule } from './../chat/chat.module';\r\nimport { HomePage } from './home';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { IonicImageLoader } from 'ionic-image-loader';\r\nimport { ChatPage } from '../chat/chat';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n    IonicImageLoader,\r\n    ChatPageModule,\r\n    ComponentsModule\r\n    \r\n  ],\r\n  exports:[\r\n    HomePage\r\n  ],\r\n  entryComponents:[\r\n    ChatPage\r\n  ]\r\n})\r\nexport class MovieDetailsPageModule {\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","export class Helper {\r\n    static shuffle(a) {\r\n      for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n      }\r\n      return a;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/Helper.ts","import { LoadingController } from 'ionic-angular';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ChatService } from './../../services/ChatService';\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\nimport { ViewController } from 'ionic-angular';\r\n\r\nimport { IonicPage, NavController, NavParams, Content } from 'ionic-angular';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport * as firebase from 'Firebase';\r\nimport { UserInfo } from 'src/data/UserInfo';\r\n/**\r\n * Generated class for the ChatPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-chat',\r\n  templateUrl: 'chat.html',\r\n})\r\nexport class ChatPage {\r\n  @ViewChild(Content) content: Content;\r\n  messages = [];\r\nnickname:string = '';\r\nemailUserChat:string = ''\r\noffStatus:boolean = false;\r\nprivate event;\r\nphotosArray = new Array;\r\nmessage = '';\r\nisLoading:boolean = true;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    private viewCtrl:ViewController,\r\n    private db:AngularFirestore,\r\n    private chatService : ChatService,\r\n    private _DomSanitizationService: DomSanitizer,\r\n    private alertCtrl: AlertController,\r\n    private loadingCtrl: LoadingController) {\r\n\r\n  \r\n    this.nickname = \"\";\r\n         \r\n      this.photosArray = [];\r\n      this.messages = [];   \r\n      this.getChatSection();   \r\n\r\n    if(this.photosArray.length == 0) {\r\n      this.db.collection('photos').valueChanges().forEach(elem =>{\r\n        this.photosArray.push(elem);\r\n      })\r\n    };\r\n    \r\n    this.chatService.getMessages().subscribe(message => {            \r\n      let prueba = this.getCurrentUserPhoto(message['from']);     \r\n      message['picture'] = this._DomSanitizationService.bypassSecurityTrustResourceUrl(prueba);\r\n      this.messages.push(message);\r\n      setTimeout(() => {\r\n        if(this.offStatus === false) {\r\n          this.content.scrollToBottom(1000);\r\n        }\r\n      }, 50);\r\n      let objToSave =\r\n      {\r\n        created:message['created'],\r\n        from:message['from'],\r\n        text:message['text']\r\n      }\r\n      this.db.collection('chats').doc(this.event).collection('chatLog').doc('chatLog'+message['created']).set(objToSave)    \r\n    })\r\n   \r\n  };\r\n\r\n  loadMessges() {\r\n    \r\n    \r\n    \r\n    if(this.messages.length === 0 ) {\r\n     \r\n        this.event = localStorage.getItem('chatEvent');\r\n      \r\n          var docref = this.db.collection('chats').doc(this.event).collection('chatLog',ref => ref.orderBy('created'));         \r\n          docref.get().subscribe(result => {           \r\n            result.forEach(res=> {  \r\n              if (res.data().from !== undefined) {\r\n                let ObjtResult;\r\n                // this.photosArray[0].forEach(photo =>{  \r\n                for (let index = 0; index < this.photosArray[0].length; index++) {\r\n                  if(this.photosArray[0][index]['name'] === res.data().from) {\r\n                    ObjtResult = {\r\n                      created:res.data().created,\r\n                      from: res.data().from,\r\n                      text: res.data().text,\r\n                      picture:this._DomSanitizationService.bypassSecurityTrustResourceUrl(this.photosArray[0][index]['base64'])                     \r\n                    }                     \r\n                  break;              \r\n                  } else {\r\n                    ObjtResult = {\r\n                      created:res.data().created,\r\n                      from: res.data().from,\r\n                      text: res.data().text,\r\n                      picture:'assets/imgs/user.png'\r\n                    }  \r\n                  }                 \r\n                }\r\n                this.messages.push(ObjtResult)  \r\n              } else {\r\n                let ObjtResult;\r\n                ObjtResult = {\r\n                  created:res.data().created,\r\n                  from: res.data().from,\r\n                  text: res.data().text,\r\n                  picture:'assets/imgs/user.png'\r\n                };\r\n                this.messages.push(ObjtResult)   \r\n              } \r\n            })\r\n            setTimeout(() => {\r\n              if(this.offStatus === false) {\r\n                this.content.scrollToBottom(0);\r\n                this.isLoading = false;\r\n              }\r\n            },0);\r\n          })\r\n            \r\n      \r\n    }\r\n  };\r\n\r\n  getCurrentUserPhoto(name):string {   \r\n    let photo;\r\n    let tmp =true;\r\n    let index = 0;\r\n    if(name == undefined) {\r\n      photo = 'assets/imgs/user.png'\r\n    } else {\r\n      do {        \r\n        if (this.photosArray[0][index]['name'] === name) {\r\n          photo = (this.photosArray[0][index]['base64']);\r\n          tmp = false;\r\n        } else {\r\n          index += 1;\r\n        };\r\n        if(index == this.photosArray[0].length) {\r\n          photo = 'assets/imgs/user.png'\r\n          tmp = false;\r\n        }\r\n      } while (tmp);  \r\n    }        \r\n    return photo;\r\n  }\r\n\r\n  getChatSection() {    \r\n    this.db.collection('Config').valueChanges().subscribe(res=> {      \r\n      \r\n      this.event = res[0]['chatEvent'];\r\n      localStorage.setItem('chatEvent',this.event);    \r\n        if(this.nickname === '') {         \r\n          this.chatService.joinChat().then((nickname: UserInfo) => {                \r\n            this.nickname = nickname.name.toString(); \r\n            this.emailUserChat = nickname.email.toString();    \r\n            this.loadMessges()    \r\n        \r\n    },err => this.showAlert(err,'Error FbConfig'));  \r\n  };\r\n})\r\n  };\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ChatPage');\r\n    setTimeout(() => {\r\n          if(this.offStatus === false) {\r\n            this.content.scrollToBottom(1000);\r\n          }\r\n        }, 50);\r\n  };\r\n\r\n    /**\r\n   * Funcion para mostrar una alerta personalizada\r\n   * @param message mensaje para mostrar en el body de la alerta\r\n   * @param title  titulo para mostrar en el encabezado de la alerta\r\n   */\r\n\r\n  showAlert(message,title) {\r\n    let alert = this.alertCtrl.create({\r\n      title:title,\r\n      message:message,\r\n      buttons :[\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass:'btnalert-cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Ok',  \r\n          cssClass: 'btnalert-ok',\r\n          handler: data =>{ }\r\n        }\r\n      ]\r\n    }).present();\r\n  };\r\n\r\n    /**\r\n   * Funcion que envia un mensaje por meido de SOCKET.IO\r\n   */\r\n\r\n  sendMessage() { \r\n    if(this.message !== '') {\r\n      this.chatService.sendMessage(this.message); \r\n      this.message = '';\r\n    }  \r\n  }\r\n\r\n   /**\r\n  * Funcion para que el usuario al oprimir ENTER pueda enviar un mensaje\r\n  * @param key codigo de la tecla presionada\r\n  */\r\n\r\n keyPress(key) {\r\n  if( key === 13 &&  this.message !== '') {\r\n    this.sendMessage()\r\n  }\r\n};\r\n\r\n\r\n  close(){\r\n    this.viewCtrl.dismiss();\r\n    this.chatService.disconnect();\r\n    this.nickname = '';\r\n    this.messages = [];\r\n  }\r\n\r\n};\r\n\r\n\r\n\r\nexport const snapshotToArray = snapshot => {\r\n  let returnArr = [];\r\n\r\n  snapshot.forEach(childSnapshot => {\r\n      let item = childSnapshot.val();\r\n      item.key = childSnapshot.key;\r\n      returnArr.push(item);\r\n  });\r\n\r\n  return returnArr;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","\r\n\r\nimport { AuthService } from './../../services/AuthService';\r\nimport { VimeoService } from './../../services/VimeoService';\r\nimport { ChatService } from './../../services/ChatService';\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\nimport { Component, NgZone,  ElementRef,ViewChildren, QueryList } from '@angular/core';\r\nimport {\r\n          NavController,\r\n          LoadingController,\r\n          Platform,\r\n          AlertController,\r\n          ToastController,\r\n          Events,\r\n          App,\r\n          IonicPage,\r\n          ModalController,\r\n          ModalOptions\r\n} from \"ionic-angular\";\r\nimport { Slides } from 'ionic-angular';\r\nimport { Helper } from \"../../data/Helper\";\r\nimport { HomeScreenGroupItem } from \"../../data/HomeScreenGroupItem\";\r\nimport { HomeScreenGroup } from \"../../data/HomeScreenGroup\";\r\nimport {  EmbedVideoService } from 'ngx-embed-video';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport firebase from \"firebase\";\r\n@IonicPage()\r\n\r\n@Component({\r\n  selector: \"page-home\",\r\n  templateUrl: \"home.html\"\r\n})\r\nexport class HomePage {\r\n\r\n  @ViewChildren(Slides) slides: QueryList<Slides>;\r\n\r\n  sliderOne: any;\r\n  sliderTwo: any;\r\n  sliderThree: any;\r\n  homeScreenGroups: HomeScreenGroup[] = [];\r\n  iframe_html: any;\r\n  segementHome = 'list';\r\n  chatEnable:any;\r\n  booleanchatEnable:boolean = false;\r\n  messages = [];\r\n  nickname = '';\r\n  emailUserChat = ''\r\n  message = '';\r\n  photosArray = new Array;\r\n  loaded:boolean = false;\r\n  out:boolean = true;\r\n  iscordova:boolean;\r\n private event;\r\n private width:number;\r\n private heigth:number;\r\n heightFrame:any\r\n widthFrame: any;\r\n menu = true;\r\n refrescarpag = false;\r\n menuhead = 'home';\r\n cur_segment: any\r\n isModalOpen:boolean = false;\r\n badge:any;\r\n  //slides: any;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private loadingCtrl: LoadingController,\r\n    private platform: Platform,\r\n    private alertCtrl: AlertController,\r\n    private db:AngularFirestore,\r\n    private embedService: EmbedVideoService,\r\n    private chatService : ChatService,\r\n    private toastCtrl: ToastController,\r\n    private VimeoService: VimeoService,\r\n    public events: Events,    \r\n    public modalCtrl: ModalController\r\n  ) { \r\n    \r\n    platform.ready().then(() => {\r\n      this.width = platform.width();\r\n      this.heigth = platform.height();\r\n      \r\n      if(this.width <= 992){\r\n        this.menu = true\r\n        this.refrescarpag = false\r\n        this.widthFrame = \"100%\";\r\n        this.heightFrame = 200;\r\n      \r\n      } else{\r\n        this.menu = false\r\n        this.refrescarpag = true\r\n        this.widthFrame = \"92%\";\r\n        this.heightFrame = 500;\r\n      }\r\n      \r\n    });\r\n  \r\n  };\r\n  //Fin cosntructor\r\n\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||------------------------||||||||||||||||||||||||||||||||||||||||||                 \r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||    Inicio funciones    ||||||||||||||||||||||||||||||||||||||||||\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||------------------------||||||||||||||||||||||||||||||||||||||||||\r\n\r\n\r\n     // Funicone de ciclo de vida (lifecycle)\r\n\r\n     ionViewWillLeave() {\r\n      this.iframe_html = '';\r\n    };\r\n    ionViewDidLeave() {\r\n      this.iframe_html = '';\r\n    };\r\n\r\n    /**\r\n     *Funcion de ciclo de vida que se ejecuta cuando la vista ha cargado,  \r\n     * ejecuta la funcion gethomeVideo() y posteriormente getHomeGroups() \r\n     * @memberof HomePage\r\n     */\r\n    ionViewDidLoad() {  \r\n      var loading = this.loadingCtrl.create({\r\n        spinner: \"bubbles\",\r\n        content: \"Cargando...\"\r\n      });\r\n      loading.present();\r\n      this.gethomeVideo().then(()=> {\r\n                \r\n        this.getHomeGroups().then(()=>{\r\n          setTimeout(() => {\r\n            loading.dismiss();\r\n            this.loaded = true;\r\n          }, 3000);          \r\n        }).catch(err=>{\r\n          loading.dismiss();\r\n          this.showAlert(err,'Error de conexion')\r\n        });\r\n      },err=> {\r\n        loading.dismiss();\r\n        this.showAlert(err,'Error de conexion')\r\n      });\r\n      \r\n     };\r\n    // Fin funciones ciclo de vida\r\n \r\n    \r\n    /**\r\n     * Funcion que realiza consulta a BD para obtener ID del evento, para luego obtener el IFRAME\r\n     * seguro para efectuar el INNERHTML en el DOM.  \r\n     * @returns\r\n     * @memberof HomePage\r\n     */\r\n    gethomeVideo() {\r\n      const promise = new Promise((resolve,reject)=> {\r\n        this.db.collection('Config').valueChanges().subscribe(res=> {           \r\n          this.iframe_html = this.embedService.embed_vimeo(res[0]['Idvivo'],{\r\n            query:{autoplay:1, loop:1, color:'ffff', portrait: 0},                \r\n            attr: { width:this.widthFrame, height: this.heightFrame, }                 \r\n          });\r\n          resolve({videoConfig: res})\r\n        },err =>{ reject(err)}); \r\n      })\r\n      return promise;\r\n    };\r\n    //Fin gethomeVideo()\r\n\r\n  /**\r\n   *funcion que utiliza la api de vimeo para traer las categorias de Vimeo\r\n   *\r\n   * @returns\r\n   * @memberof HomePage\r\n   */\r\n  getHomeGroups() { \r\n\r\n    const promise = new Promise((resolve,reject)=> {\r\n   this.VimeoService.getHomeScreenGroups().subscribe(res=> {       \r\n     this.homeScreenGroups = []       \r\n     let collection:any = res\r\n     collection.forEach(element => {  \r\n       let homeGropuModel = new HomeScreenGroup();        \r\n       homeGropuModel.name = element.name;\r\n       homeGropuModel.groupId = element.metadata.connections.videos.uri;\r\n       homeGropuModel.groupItems = [];\r\n       this.homeScreenGroups.push(homeGropuModel)   \r\n       this.homeScreenGroups = Helper.shuffle(this.homeScreenGroups)\r\n     });\r\n     this.homeScreenGroups.forEach(element => {\r\n/************************** En  esta seccion se recorre cada categoria y se obtiene los videos de la misma por meido de la api de vimeo *******************************************/\r\n       this.VimeoService.getHomeScreenGroupsVideos(element).subscribe(result=> {\r\n         let videos:any = result         \r\n         videos.data.forEach(item => {\r\n           let video = new HomeScreenGroupItem();\r\n           video.name = item.name;\r\n           video.picture = item.files[2].link;\r\n           video.description = item.description;\r\n           video.detailsPicture = item.pictures.sizes[10].link;\r\n           video.movieId = item.uri.split('/')[2];\r\n           element.groupItems.push(video)\r\n           element = Helper.shuffle(element)\r\n         });\r\n       },err => reject(err))\r\n     });\r\n     resolve();\r\n   },err => reject(err))//Fin subscripcion getHomeScreenGroups()\r\n })//Fin promesa\r\n return promise;\r\n };\r\n // Fin getHomeGroups()\r\n \r\n/**\r\n * FUncion que abre la modal de chatPage\r\n *\r\n * @memberof HomePage\r\n */\r\npresentChatModal() {\r\n      let options:ModalOptions={\r\n        showBackdrop:false,\r\n        enableBackdropDismiss:true,\r\n        cssClass: 'custom-modal'\r\n      }      \r\n      \r\n      let chatModal = this.modalCtrl.create('ChatPage',{},options);\r\n      chatModal.present().then(() =>{\r\n          this.badge = 0;\r\n      },res=>{\r\n        console.log(\"close\")\r\n      });\r\n\r\n      chatModal.onWillDismiss(res=>{\r\n        console.log(res)\r\n      })\r\n    };\r\n    //Fin presentChatModal()\r\n  \r\n \r\n  /**\r\n   *\r\n   *Funcion para abrir la pagina de detalles del video\r\n   * @param {HomeScreenGroupItem} groupItem objeto con la informacion del video\r\n   * @memberof HomePage\r\n   */\r\n  goToGroupItemDetails(groupItem: HomeScreenGroupItem) {\r\n    this.navCtrl.push(\"MovieDetailsPage\", { movieId: groupItem });   \r\n  }; \r\n\r\n  /**\r\n   * Funcion para mover un slide hacia la derecha\r\n   * @param {number} index\r\n   * @memberof HomePage\r\n   */\r\n  public moveNext(index: number){        \r\n    this.slides.toArray()[index].slideNext();     \r\n  };\r\n//Fin moveNext()\r\n\r\n/** \r\n * Funcion para mover un slide hacia la izquierda\r\n * @param {number} index\r\n * @memberof HomePage\r\n */\r\npublic movePrev(index: number){  \r\n   this.slides.toArray()[index].slidePrev();  \r\n};\r\n//Fin movePrev()\r\n \r\n \r\n/**\r\n * Funcion que se ejecuta al hacer swipe down en la pantalla\r\n * para recargar el video \r\n * @param {*} refresher\r\n * @memberof HomePage\r\n */\r\ndoRefresh(refresher) {       \r\n   \r\n  this.loaded = false;\r\n    this.gethomeVideo().then(res => {\r\n      this.getHomeGroups().then(()=>{\r\n        refresher.complete();\r\n        this.loaded = true;\r\n      })     \r\n    },err => {\r\n      this.showAlert(err,'Error al cargar')\r\n      refresher.complete();\r\n    }).catch(()=> refresher.complete())\r\n    setTimeout(() => {\r\n      refresher.complete()\r\n    }, 3000);   \r\n  };\r\n   \r\n    \r\n\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||------------------------||||||||||||||||||||||||||||||||||||||||||                 \r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||        Helpers         ||||||||||||||||||||||||||||||||||||||||||\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||------------------------||||||||||||||||||||||||||||||||||||||||||\r\n\r\n \r\n     \r\n/**\r\n * Funcion para mostrar un toaster con cualuiqer funcion/metodo\r\n *\r\n * @param {*} msg cadena de texto para mostrar\r\n * @memberof HomePage\r\n */\r\nshowToast(msg) {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 2000      \r\n    });\r\n    toast.present();\r\n  };\r\n\r\n  /**\r\n   * Funcion para mostrar una alerta personalizada\r\n   * @param message mensaje para mostrar en el body de la alerta\r\n   * @param title  titulo para mostrar en el encabezado de la alerta\r\n   * @memberof HomePage\r\n   */\r\nshowAlert(message,title) {\r\n    let alert = this.alertCtrl.create({\r\n      title:title,\r\n      message:message,\r\n      buttons :[\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass:'btnalert-cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Ok',  \r\n          cssClass: 'btnalert-ok',\r\n          handler: data =>{ }\r\n        }\r\n      ]\r\n    }).present();\r\n  };  \r\n\r\n} // Fin homePage\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { NgModule } from '@angular/core';\nimport { MenuComponent } from './menu/menu';\nimport { IonicModule } from 'ionic-angular';\n@NgModule({\n\tdeclarations: [MenuComponent],\n\timports: [IonicModule],\n\texports: [MenuComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, NgZone } from '@angular/core';\r\nimport { NavController, LoadingController, App } from 'ionic-angular';\r\nimport firebase from \"firebase\";\r\n@Component({\r\n  selector: 'menu',\r\n  templateUrl: 'menu.html'\r\n})\r\nexport class MenuComponent {\r\n\r\n  text: string;\r\n  menuhead = 'home';\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private loadingCtrl: LoadingController,\r\n    private app: App,\r\n    private zone: NgZone,\r\n  ) {   \r\n  };\r\n\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||----------------------------------------||||||||||||||||||||||||||||||||||||||||||                 \r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||        Funciones Nav bar DESKTOP       ||||||||||||||||||||||||||||||||||||||||||\r\n     // ||||||||||||||||||||||||||||||||||||||||||||||||||||----------------------------------------||||||||||||||||||||||||||||||||||||||||||\r\n\r\n   \r\n     home() {\r\n      this.navCtrl.setRoot('HomePage');\r\n    }\r\n  \r\n    parrilla() {\r\n      this.navCtrl.setRoot('ComingSoonPage')\r\n    }\r\n  \r\n    buscar() {\r\n      this.navCtrl.setRoot('SearchPage')\r\n    }\r\n    perfil() {\r\n      this.navCtrl.setRoot('ProfilePage')\r\n    };\r\n\r\n    terminos() {\r\n      this.navCtrl.push('TermsPage')\r\n    }\r\n    \r\n    signOut() {\r\n      var loading = this.loadingCtrl.create({\r\n        spinner: \"bubbles\",\r\n        content: \"Cerrando sesión...\"\r\n      });\r\n      loading.present();\r\n      setTimeout(() => {\r\n        loading.dismiss();\r\n        firebase\r\n          .auth()\r\n          .signOut()\r\n          .then(() => {\r\n            this.zone.run(() => {\r\n              this.app.getRootNav().setRoot('SignInPage');\r\n            });\r\n          });\r\n      }, 500);\r\n    };\r\n  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu/menu.ts"],"sourceRoot":""}