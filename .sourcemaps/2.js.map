{"version":3,"sources":["../../src/pages/chat/chat.module.ts","../../src/pages/home/home.module.ts","../../src/data/Helper.ts","../../src/pages/chat/chat.ts","../../node_modules/Firebase/dist/index.cjs.js","../../src/pages/home/home.ts"],"names":[],"mappings":"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AC,OAAO,CAAC,kBAAa;QAC1B,IAAI,IAAI,GAAG,aAAa,CAAC,GAAG,CAAG;QAC/B,IAAI,CAAC,GAAG,GAAG,UAAkB;OACR;IACzB,CAAC,CAAC,CAAC;EAEc;AACnB,CAAC,CAAC,8B;;;;;;;;ACpFW;;AAEb,+BAA+B,iFAAiF;;AAEhH,mBAAO,CAAC,GAAoB;AAC5B,+BAA+B,mBAAO,CAAC,EAAe;AACtD,mBAAO,CAAC,GAAgB;AACxB,mBAAO,CAAC,GAAoB;AAC5B,mBAAO,CAAC,GAAqB;AAC7B,mBAAO,CAAC,GAAqB;AAC7B,mBAAO,CAAC,GAAqB;AAC7B,mBAAO,CAAC,GAAmB;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0aAA0a,gCAAgC,qDAAqD,8BAA8B;;AAE7hB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5H2D;AACE;AAEF;AACD;AAC6B;AACkE;AAClH;AACI;AAC0B;AACR;AACR;AACQ;AACN;AACvB;AAOhC;IA6BE,cAAc;IAEd,kBACU,OAAsB,EACtB,WAA8B,EAC9B,QAAkB,EAClB,SAA0B,EAC1B,EAAmB,EACnB,YAA+B,EAC/B,WAAyB,EACzB,SAA0B,EAC1B,YAA0B,EAC1B,aAA4B,EAC5B,WAAwB,EACxB,uBAAqC,EACtC,MAAc,EACb,GAAQ,EACR,IAAY,EACZ,OAAmB,EACpB,SAA0B;QAjBnC,iBAsDG;QArDO,YAAO,GAAP,OAAO,CAAe;QACtB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAiB;QAC1B,OAAE,GAAF,EAAE,CAAiB;QACnB,iBAAY,GAAZ,YAAY,CAAmB;QAC/B,gBAAW,GAAX,WAAW,CAAc;QACzB,cAAS,GAAT,SAAS,CAAiB;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,4BAAuB,GAAvB,uBAAuB,CAAc;QACtC,WAAM,GAAN,MAAM,CAAQ;QACb,QAAG,GAAH,GAAG,CAAK;QACR,SAAI,GAAJ,IAAI,CAAQ;QACZ,YAAO,GAAP,OAAO,CAAY;QACpB,cAAS,GAAT,SAAS,CAAiB;QAzCnC,qBAAgB,GAAsB,EAAE,CAAC;QAEzC,iBAAY,GAAG,MAAM,CAAC;QAEtB,sBAAiB,GAAW,KAAK,CAAC;QAClC,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,kBAAa,GAAG,EAAE;QAClB,YAAO,GAAG,EAAE,CAAC;QACb,gBAAW,GAAG,IAAI,KAAK,CAAC;QACxB,WAAM,GAAW,KAAK,CAAC;QACvB,QAAG,GAAW,IAAI,CAAC;QAOpB,SAAI,GAAG,IAAI,CAAC;QACZ,iBAAY,GAAG,KAAK,CAAC;QACrB,aAAQ,GAAG,MAAM,CAAC;QAuBf,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACpB,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;YAC9B,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC;YAEhC,EAAE,EAAC,KAAI,CAAC,KAAK,IAAI,GAAG,CAAC,EAAC;gBACpB,KAAI,CAAC,IAAI,GAAG,IAAI;gBAChB,KAAI,CAAC,YAAY,GAAG,KAAK;gBACzB,KAAI,CAAC,UAAU,GAAG,MAAM,CAAC;gBACzB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YAEzB,CAAC;YAAC,IAAI,EAAC;gBACL,KAAI,CAAC,IAAI,GAAG,KAAK;gBACjB,KAAI,CAAC,YAAY,GAAG,IAAI;gBACxB,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YACzB,CAAC;QAEH,CAAC,CAAC,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,iBAAO;YAC9C,IAAI,MAAM,GAAG,KAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YACvD,OAAO,CAAC,SAAS,CAAC,GAAG,KAAI,CAAC,uBAAuB,CAAC,8BAA8B,CAAC,MAAM,CAAC,CAAC;YACzF,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC5B,IAAI,SAAS,GACb;gBACE,OAAO,EAAC,OAAO,CAAC,SAAS,CAAC;gBAC1B,IAAI,EAAC,OAAO,CAAC,MAAM,CAAC;gBACpB,IAAI,EAAC,OAAO,CAAC,MAAM,CAAC;aACrB;YACD,KAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,SAAS,GAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC;QACpH,CAAC,CAAC;IAEJ,CAAC;IAAA,CAAC;IAEF,sCAAmB,GAAnB;QACE,IAAI,OAAO,GAAc;YACvB,YAAY,EAAC,KAAK;YAClB,qBAAqB,EAAC,IAAI;SAC3B;QACD,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAC,EAAE,EAAC,OAAO,CAAC,CAAC;QAChE,YAAY,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAEH,mCAAgB,GAAhB;QAAA,iBAkBC;QAjBC,uBAAuB;QACvB,0BAA0B;QAC1B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,mBAAmB,EAAE,UAAC,WAAW;YACrD,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,KAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,cAAI;gBACxD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC1B,sBAAsB;YACxB,CAAC,CAAC;YACF,KAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,EAAE,EAAC,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,cAAI;gBACtD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC,CAAC;QACJ,CAAC;IACH,CAAC;IAED,mCAAgB,GAAhB;QACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IACD,kCAAe,GAAf;QACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IAED;;OAEG;IAEH,gCAAa,GAAb;QAAA,iBAkCC;QAhCC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,aAAG;YACrD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAClB,CAAC,CAAC;QAEF,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC,aAAG;YACnD,KAAI,CAAC,gBAAgB,GAAG,EAAE;YAC1B,IAAI,UAAU,GAAO,GAAG;YACxB,UAAU,CAAC,OAAO,CAAC,iBAAO;gBACxB,IAAI,cAAc,GAAG,IAAI,8EAAe,EAAE,CAAC;gBAC3C,cAAc,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBACnC,cAAc,CAAC,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC;gBACjE,cAAc,CAAC,UAAU,GAAG,EAAE,CAAC;gBAC/B,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC;gBAC1C,KAAI,CAAC,gBAAgB,GAAG,4DAAM,CAAC,OAAO,CAAC,KAAI,CAAC,gBAAgB,CAAC;YAC/D,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iBAAO;gBAC3C,oLAAoL;gBAC5K,KAAI,CAAC,YAAY,CAAC,yBAAyB,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,gBAAM;oBACnE,IAAI,MAAM,GAAO,MAAM;oBACvB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAI;wBACtB,IAAI,KAAK,GAAG,IAAI,sFAAmB,EAAE,CAAC;wBACtC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;wBACvB,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBACnC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;wBACrC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;wBACpD,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;wBAC9B,OAAO,GAAG,4DAAM,CAAC,OAAO,CAAC,OAAO,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAEF;;;OAGG;IAEF,2BAAQ,GAAR,UAAS,GAAG;QACV,EAAE,EAAE,GAAG,KAAK,EAAE,IAAK,IAAI,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,WAAW,EAAE;QACpB,CAAC;IACH,CAAC;IAAA,CAAC;IAEF;;OAEG;IAEH,8BAAW,GAAX;QAAA,iBA6CC;QA5CC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,aAAG;gBACvD,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;gBACjC,EAAE,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAClB,IAAI,MAAM,GAAG,KAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,SAAS,EAAC,aAAG,IAAI,UAAG,CAAC,OAAO,CAAC,SAAS,CAAC,EAAtB,CAAsB,CAAC,CAAC;oBAC7G,MAAM,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,gBAAM;wBAC3B,MAAM,CAAC,OAAO,CAAC,aAAG;4BAChB,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;gCAClC,IAAI,UAAU,UAAC;gCACf,0CAA0C;gCAC1C,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC;oCAChE,EAAE,EAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;wCAC1D,UAAU,GAAG;4CACX,OAAO,EAAC,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO;4CAC1B,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;4CACrB,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;4CACrB,OAAO,EAAC,KAAI,CAAC,uBAAuB,CAAC,8BAA8B,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC;yCAC1G;wCACH,KAAK,CAAC;oCACN,CAAC;oCAAC,IAAI,CAAC,CAAC;wCACN,UAAU,GAAG;4CACX,OAAO,EAAC,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO;4CAC1B,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;4CACrB,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;4CACrB,OAAO,EAAC,sBAAsB;yCAC/B;oCACH,CAAC;gCACH,CAAC;gCACD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;4BAChC,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,IAAI,UAAU,UAAC;gCACf,UAAU,GAAG;oCACX,OAAO,EAAC,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO;oCAC1B,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;oCACrB,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI;oCACrB,OAAO,EAAC,sBAAsB;iCAC/B,CAAC;gCACF,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;4BAChC,CAAC;wBACH,CAAC,CAAC;oBACJ,CAAC,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC;QACJ,CAAC;IACH,CAAC;IAAA,CAAC;IAEF;;;OAGG;IAEH,iCAAc,GAAd;QAAA,iBAoBC;QAnBC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,aAAG;YACvD,KAAI,CAAC,UAAU,GAAE,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YAChC,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YACjC,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;YACtD,EAAE,EAAC,KAAI,CAAC,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC5B,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,EAAE,EAAC,KAAI,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC,CAAC;oBACxB,KAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAC,QAAkB;wBAClD,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACzC,KAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACjD,CAAC,CAAC;gBACJ,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;gBAC9B,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACnB,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACrB,CAAC;YAAA,CAAC;QACJ,CAAC,EAAC,aAAG,IAAI,YAAI,CAAC,SAAS,CAAC,GAAG,EAAC,gBAAgB,CAAC,EAApC,CAAoC,CAAC,CAAC;IACjD,CAAC;IAAA,CAAC;IAEF;;;OAGG;IAEH,+BAAY,GAAZ;QAAA,iBAWC;QAVC,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,MAAM;YACzC,KAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,aAAG;gBACvD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAC;oBAChE,KAAK,EAAC,EAAC,QAAQ,EAAC,CAAC,EAAE,IAAI,EAAC,CAAC,EAAE,KAAK,EAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAC;oBACrD,IAAI,EAAE,EAAE,KAAK,EAAC,KAAI,CAAC,UAAU,EAAE,MAAM,EAAE,KAAI,CAAC,WAAW,EAAE;iBAC1D,CAAC,CAAC;gBACH,OAAO,CAAC,EAAC,WAAW,EAAE,GAAG,EAAC,CAAC;YAC7B,CAAC,EAAC,aAAG,IAAK,MAAM,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC;QAC1B,CAAC,CAAC;QACF,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAAA,CAAC;IAEF;;OAEG;IAEH,iCAAc,GAAd;QAAA,iBAwBC;QAvBC,IAAI,CAAC,MAAM,CAAC;QACZ,0BAA0B;QAC1B,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,SAAS;YAClB,OAAO,EAAE,aAAa;SACvB,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,IAAI,CAAC,aAAa,EAAE;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;YACvB,KAAI,CAAC,WAAW,EAAE,CAAC;YACnB,KAAI,CAAC,aAAa,EAAE;YACpB,UAAU,CAAC;gBACT,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC,EAAC,aAAG;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,KAAI,CAAC,SAAS,CAAC,GAAG,EAAC,mBAAmB,CAAC;QACzC,CAAC,CAAC,CAAC;QACH,UAAU,CAAC;YACT,OAAO,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED;;OAEG;IAEH,8BAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3C,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IAED;;;OAGG;IAEH,uCAAoB,GAApB,UAAqB,SAA8B;QACjD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;IAChE,CAAC;IAAA,CAAC;IAEF;;;;OAIG;IAEH,4BAAS,GAAT,UAAU,SAAS;QAAnB,iBAmBC;QAlBC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,cAAI;YACvD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5B,sBAAsB;QACvB,CAAC,CAAC;QACF,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,EAAE;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,aAAG;YAC1B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAChB,SAAS,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC,EAAC,aAAG;YACH,KAAI,CAAC,SAAS,CAAC,GAAG,EAAC,iBAAiB,CAAC;YACrC,SAAS,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC,KAAK,CAAC,cAAK,gBAAS,CAAC,QAAQ,EAAE,EAApB,CAAoB,CAAC;QACnC,UAAU,CAAC;YACT,SAAS,CAAC,QAAQ,EAAE;QACtB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAAA,CAAC;IAEF;;;OAGG;IAEH,4BAAS,GAAT,UAAU,GAAG;QACX,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,GAAG;YACZ,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAAA,CAAC;IAEF;;;;OAIG;IAEH,4BAAS,GAAT,UAAU,OAAO,EAAC,KAAK;QACrB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAC,KAAK;YACX,OAAO,EAAC,OAAO;YACf,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,QAAQ;oBACd,QAAQ,EAAC,iBAAiB;oBAC1B,OAAO,EAAE,cAAI;wBACX,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAChC,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,QAAQ,EAAE,aAAa;oBACvB,OAAO,EAAE,cAAI,IAAK,CAAC;iBACpB;aACF;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAAA,CAAC;IAEF,sCAAmB,GAAnB,UAAoB,IAAI;QACtB,IAAI,KAAK,CAAC;QACV,IAAI,GAAG,GAAE,IAAI,CAAC;QACd,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,EAAE,EAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YACrB,KAAK,GAAG,sBAAsB;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,GAAG,CAAC;gBACF,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;oBAChD,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC/C,GAAG,GAAG,KAAK,CAAC;gBACd,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,IAAI,CAAC,CAAC;gBACb,CAAC;gBAAA,CAAC;gBACF,EAAE,EAAC,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACvC,KAAK,GAAG,sBAAsB;oBAC9B,GAAG,GAAG,KAAK,CAAC;gBACd,CAAC;YACH,CAAC,QAAQ,GAAG,EAAE;QAChB,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAED,oCAAiB,GAAjB,UAAkB,IAAI;QACpB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAC,aAAG,IAAI,UAAG,CAAC,KAAK,CAAC,MAAM,EAAC,IAAI,EAAC,IAAI,CAAC,EAA3B,CAA2B,CAAC,CAAC,YAAY,EAAE,CAAC;IACxF,CAAC;IAED,6JAA6J;IAC7J,0BAA0B;IAC1B,4CAA4C;IAC5C,0BAA0B;IAC1B,iCAAiC;IACjC,QAAQ;IAER,uBAAuB;IAEvB,yEAAyE;IACzE,uDAAuD;IAEvD,yDAAyD;IACzD,wCAAwC;IACxC,+BAA+B;IAC/B,qDAAqD;IACrD,mCAAmC;IACnC,qEAAqE;IACrE,8DAA8D;IAE9D,qDAAqD;IACrD,sDAAsD;IACtD,6CAA6C;IAE7C,+DAA+D;IAC/D,gBAAgB;IAEhB,6CAA6C;IAC7C,mCAAmC;IACnC,0DAA0D;IAC1D,uCAAuC;IACvC,4EAA4E;IAC5E,kEAAkE;IAElE,2DAA2D;IAC3D,2DAA2D;IAC3D,kDAAkD;IAElD,mEAAmE;IACnE,oBAAoB;IAEpB,yCAAyC;IACzC,6DAA6D;IAC7D,6CAA6C;IAC7C,mBAAmB;IACnB,kBAAkB;IAClB,cAAc;IACd,UAAU;IAEV,yBAAyB;IACzB,QAAQ;IACR,IAAI;IACJ,uBAAuB;IACvB,wCAAwC;IACxC,gDAAgD;IAChD,gCAAgC;IAChC,iEAAiE;IACjE,6BAA6B;IAC3B,UAAU;IAEZ,uBAAuB;IACvB,cAAc;IACd,MAAM;IAEN,2CAA2C;IAC3C,+BAA+B;IAC/B,qCAAqC;IACrC,SAAS;IACT,4BAA4B;IAC5B,wCAAwC;IACxC,SAAS;IACT,gCAAgC;IAChC,6BAA6B;IAC7B,qBAAqB;IACrB,OAAO;IAEP,mCAAmC;IACnC,uLAAuL;IACvL,cAAc;IACd,OAAO;IACP,KAAK;IAEL,uBAAI,GAAJ;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IACnC,CAAC;IAED,2BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;IACrC,CAAC;IAED,yBAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC;IACjC,CAAC;IACD,yBAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;IAClC,CAAC;IAED,0BAAO,GAAP;QAAA,iBAiBC;QAhBC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,SAAS;YAClB,OAAO,EAAE,oBAAoB;SAC9B,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,UAAU,CAAC;YACT,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,iDAAQ;iBACL,IAAI,EAAE;iBACN,OAAO,EAAE;iBACT,IAAI,CAAC;gBACJ,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;oBACZ,KAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC9C,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAAA,CAAC;IAEF,2BAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC;IAChC,CAAC;IACM,2BAAQ,GAAf,UAAgB,KAAa;QAEzB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;IAE7C,CAAC;IAEM,2BAAQ,GAAf,UAAgB,KAAa;QAEzB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;IAC7C,CAAC;IA7hBqB;QAArB,mEAAY,CAAC,6DAAM,CAAC;kCAAS,wDAAS;4CAAS;IAFrC,QAAQ;QAJpB,gEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;qFAiCgC;YACT,gEAAiB;YACpB,sEAAQ;YACP,wEAAe;YACvB,uEAEsB;YACd,6EAAe;YACZ,oFAAY;YACX,2EAAa;YACf,wEAAW;YACC,8DAAY;YAC9B,2DAAM;YACR,qDAAG;YACF,yDAAM;YACH,sEAAU;YACT,KAAe;OAhDxB,QAAQ,CAiiBpB;IAAD,OAAC;;AAAA;SAjiBY,QAAQ,e","file":"2.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ChatPage } from './chat';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ChatPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ChatPage),\r\n  ],\r\n  exports:[ChatPage]\r\n})\r\nexport class ChatPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.module.ts","import { ChatPageModule } from './../chat/chat.module';\r\nimport { HomePage } from './home';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { IonicImageLoader } from 'ionic-image-loader';\r\nimport { ChatPage } from '../chat/chat';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n    IonicImageLoader,\r\n    ChatPageModule\r\n    \r\n  ],\r\n  exports:[\r\n    HomePage\r\n  ],\r\n  entryComponents:[\r\n    ChatPage\r\n  ]\r\n})\r\nexport class MovieDetailsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","export class Helper {\r\n    static shuffle(a) {\r\n      for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n      }\r\n      return a;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/Helper.ts","\r\nimport { IonicPage, NavController, NavParams, Content } from 'ionic-angular';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport * as firebase from 'Firebase';\r\n/**\r\n * Generated class for the ChatPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-chat',\r\n  templateUrl: 'chat.html',\r\n})\r\nexport class ChatPage {\r\n  @ViewChild(Content) content: Content;\r\n  data = { type:'', nickname:'', message:'' };\r\n  messages = [\r\n  {  \r\nfrom:'Sergio',\r\ntext:\"Prueba\",\r\ncreated:Date()\r\n}];\r\nroomkey:string;\r\nnickname:string;\r\noffStatus:boolean = false;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n    this.roomkey = \"testKey\";\r\n    this.nickname = \"TestName\";\r\n    this.data.type = 'message';\r\n    this.data.nickname = this.nickname;\r\n\r\n    // let joinData = firebase.database().ref('chatrooms/'+this.roomkey+'/chats').push();\r\n    // joinData.set({\r\n    //   type:'join',\r\n    //   user:this.nickname,\r\n    //   message:this.nickname+' has joined this room.',\r\n    //   sendDate:Date()\r\n    // });\r\n    // this.data.message = '';\r\n  \r\n    // firebase.database().ref('chatrooms/'+this.roomkey+'/chats').on('value', resp => {\r\n    //   this.chats = [];\r\n    //   this.chats = snapshotToArray(resp);\r\n    //   setTimeout(() => {\r\n    //     if(this.offStatus === false) {\r\n    //       this.content.scrollToBottom(300);\r\n    //     }\r\n    //   }, 1000);\r\n    // });\r\n  \r\n\r\n  };\r\n\r\n  sendMessage() {\r\n    let newData = firebase.database().ref('chatrooms/'+this.roomkey+'/chats').push();\r\n    newData.set({\r\n      type:this.data.type,\r\n      user:this.data.nickname,\r\n      message:this.data.message,\r\n      sendDate:Date()\r\n    });\r\n    this.data.message = '';\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ChatPage');\r\n  }\r\n\r\n}\r\n\r\nexport const snapshotToArray = snapshot => {\r\n  let returnArr = [];\r\n\r\n  snapshot.forEach(childSnapshot => {\r\n      let item = childSnapshot.val();\r\n      item.key = childSnapshot.key;\r\n      returnArr.push(item);\r\n  });\r\n\r\n  return returnArr;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","'use strict';\r\n\r\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\r\n\r\nrequire('@firebase/polyfill');\r\nvar firebase = _interopDefault(require('@firebase/app'));\r\nrequire('@firebase/auth');\r\nrequire('@firebase/database');\r\nrequire('@firebase/firestore');\r\nrequire('@firebase/functions');\r\nrequire('@firebase/messaging');\r\nrequire('@firebase/storage');\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconsole.warn(\"\\nIt looks like you're using the development build of the Firebase JS SDK.\\nWhen deploying Firebase apps to production, it is advisable to only import\\nthe individual SDK components you intend to use.\\n\\nFor the module builds, these are available in the following manner\\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\\n\\nCommonJS Modules:\\nconst firebase = require('firebase/app');\\nrequire('firebase/<PACKAGE>');\\n\\nES Modules:\\nimport firebase from 'firebase/app';\\nimport 'firebase/<PACKAGE>';\\n\");\r\n\r\nmodule.exports = firebase;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/Firebase/dist/index.cjs.js\n// module id = 749\n// module chunks = 2 4","import { ChatPage } from './../chat/chat';\r\n\r\nimport { AuthService } from './../../services/AuthService';\r\nimport { VimeoService } from './../../services/VimeoService';\r\nimport { UserInfo } from './../../data/UserInfo';\r\nimport { ChatService } from './../../services/ChatService';\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\nimport { Component, NgZone,  ElementRef,ViewChildren, QueryList } from '@angular/core';\r\nimport {\r\n          NavController,\r\n          LoadingController,\r\n          Platform,\r\n          AlertController,\r\n          ToastController,\r\n          Events,\r\n          App,\r\n          IonicPage,\r\n          ModalController,\r\n          ModalOptions\r\n} from \"ionic-angular\";\r\nimport { Slides } from 'ionic-angular';\r\nimport { Helper } from \"../../data/Helper\";\r\nimport { HomeScreenGroupItem } from \"../../data/HomeScreenGroupItem\";\r\nimport { HomeScreenGroup } from \"../../data/HomeScreenGroup\";\r\nimport {  EmbedVideoService } from 'ngx-embed-video';\r\nimport { NativeStorage } from '@ionic-native/native-storage';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport firebase from \"firebase\";\r\n@IonicPage()\r\n\r\n@Component({\r\n  selector: \"page-home\",\r\n  templateUrl: \"home.html\"\r\n})\r\nexport class HomePage {\r\n\r\n  @ViewChildren(Slides) slides: QueryList<Slides>;\r\n\r\n  sliderOne: any;\r\n  sliderTwo: any;\r\n  sliderThree: any;\r\n  homeScreenGroups: HomeScreenGroup[] = [];\r\n  iframe_html: any;\r\n  segementHome = 'list';\r\n  chatEnable:any;\r\n  booleanchatEnable:boolean = false;\r\n  messages = [];\r\n  nickname = '';\r\n  emailUserChat = ''\r\n  message = '';\r\n  photosArray = new Array;\r\n  loaded:boolean = false;\r\n  out:boolean = true;\r\n  iscordova:boolean;\r\n private event;\r\n private width:number;\r\n private heigth:number;\r\n heightFrame:any\r\n widthFrame: any;\r\n menu = true;\r\n refrescarpag = false;\r\n menuhead = 'home';\r\n cur_segment: any\r\n  //slides: any;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private loadingCtrl: LoadingController,\r\n    private platform: Platform,\r\n    private alertCtrl: AlertController,\r\n    private db:AngularFirestore,\r\n    private embedService: EmbedVideoService,\r\n    private chatService : ChatService,\r\n    private toastCtrl: ToastController,\r\n    private VimeoService: VimeoService,\r\n    private nativeStorage: NativeStorage,\r\n    private authService :AuthService,\r\n    private _DomSanitizationService: DomSanitizer,\r\n    public events: Events,\r\n    private app: App,\r\n    private zone: NgZone,\r\n    private element: ElementRef,\r\n    public modalCtrl: ModalController\r\n  ) {\r\n    this.gethomeVideo();\r\n    this.getChatSection();      \r\n    \r\n    platform.ready().then(() => {\r\n      this.width = platform.width();\r\n      this.heigth = platform.height();\r\n      \r\n      if(this.width <= 992){\r\n        this.menu = true\r\n        this.refrescarpag = false\r\n        this.widthFrame = \"100%\";\r\n        this.heightFrame = 200;\r\n      \r\n      } else{\r\n        this.menu = false\r\n        this.refrescarpag = true\r\n        this.widthFrame = \"95%\";\r\n        this.heightFrame = 650;\r\n      }\r\n      \r\n    });      \r\n\r\n      this.chatService.getMessages().subscribe(message => {            \r\n        let prueba = this.getCurrentUserPhoto(message['from']);     \r\n        message['picture'] = this._DomSanitizationService.bypassSecurityTrustResourceUrl(prueba);\r\n        this.messages.push(message);\r\n        let objToSave =\r\n        {\r\n          created:message['created'],\r\n          from:message['from'],\r\n          text:message['text']\r\n        }\r\n        this.db.collection('chats').doc(this.event).collection('chatLog').doc('chatLog'+message['created']).set(objToSave)    \r\n      })\r\n    \r\n    };\r\n\r\n    presentProfileModal() {\r\n      let options:ModalOptions={\r\n        showBackdrop:false,\r\n        enableBackdropDismiss:true\r\n      }\r\n      let profileModal = this.modalCtrl.create('ChatPage',{},options);\r\n      profileModal.present();\r\n    }\r\n  \r\n  ionViewWillEnter(){ \r\n    // this.gethomeVideo();\r\n    // this.getChatSection(); \r\n    this.events.subscribe('user:photoChanged', (imageBase64) => {      \r\n      this.photosArray = [];\r\n      this.messages = [];\r\n      this.db.collection('photos').valueChanges().forEach(elem =>{\r\n      this.photosArray.push(elem);\r\n        // this.messages = [];\r\n      })\r\n      this.loadMessges(); \r\n    });\r\n\r\n    if(this.photosArray.length == 0) {\r\n      this.db.collection('photos').valueChanges().forEach(elem =>{\r\n        this.photosArray.push(elem);\r\n      })\r\n    }\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.iframe_html = '';\r\n  }\r\n  ionViewDidLeave() {\r\n    this.iframe_html = '';\r\n  }\r\n  \r\n  /**\r\n   * funcion que utiliza la api de vimeo para traer las categorias de Vimeo\r\n  **/\r\n\r\n  getHomeGroups() { \r\n    \r\n    this.nativeStorage.getItem('homeScreenGroups').then(res=>{\r\n      console.log(res)\r\n    })\r\n    \r\n    this.VimeoService.getHomeScreenGroups().subscribe(res=> {       \r\n      this.homeScreenGroups = []       \r\n      let collection:any = res\r\n      collection.forEach(element => {  \r\n        let homeGropuModel = new HomeScreenGroup();        \r\n        homeGropuModel.name = element.name;\r\n        homeGropuModel.groupId = element.metadata.connections.videos.uri;\r\n        homeGropuModel.groupItems = [];\r\n        this.homeScreenGroups.push(homeGropuModel)   \r\n        this.homeScreenGroups = Helper.shuffle(this.homeScreenGroups)\r\n      });\r\n      this.homeScreenGroups.forEach(element => {\r\n/************************** En  esta seccion se recorre cada categoria y se obtiene los videos de la misma por meido de la api de vimeo *******************************************/\r\n        this.VimeoService.getHomeScreenGroupsVideos(element).subscribe(result=> {\r\n          let videos:any = result         \r\n          videos.data.forEach(item => {\r\n            let video = new HomeScreenGroupItem();\r\n            video.name = item.name;\r\n            video.picture = item.files[2].link;\r\n            video.description = item.description;\r\n            video.detailsPicture = item.pictures.sizes[10].link;\r\n            video.movieId = item.uri.split('/')[2];\r\n            element.groupItems.push(video)\r\n            element = Helper.shuffle(element)\r\n          });\r\n        })\r\n      });\r\n    })\r\n  }\r\n\r\n /**\r\n  * Funcion para que el usuario al oprimir ENTER pueda enviar un mensaje\r\n  * @param key codigo de la tecla presionada\r\n  */\r\n\r\n  keyPress(key) {\r\n    if( key === 13 &&  this.message !== '') {\r\n      this.sendMessage()\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Funcion que sirve para obtener los mensajes de BD cuando el usuario cierra la aplicacion \r\n   */\r\n\r\n  loadMessges() {     \r\n    if(this.messages.length === 0 ) {\r\n      this.db.collection('Config').valueChanges().subscribe(res=> {\r\n        this.event = res[0]['chatEvent'];\r\n        if(res[0]['Vivo']) {\r\n          var docref = this.db.collection('chats').doc(this.event).collection('chatLog',ref => ref.orderBy('created'));         \r\n          docref.get().subscribe(result => {           \r\n            result.forEach(res=> {  \r\n              if (res.data().from !== undefined) {\r\n                let ObjtResult;\r\n                // this.photosArray[0].forEach(photo =>{  \r\n                for (let index = 0; index < this.photosArray[0].length; index++) {\r\n                  if(this.photosArray[0][index]['name'] === res.data().from) {\r\n                    ObjtResult = {\r\n                      created:res.data().created,\r\n                      from: res.data().from,\r\n                      text: res.data().text,\r\n                      picture:this._DomSanitizationService.bypassSecurityTrustResourceUrl(this.photosArray[0][index]['base64'])                     \r\n                    }                     \r\n                  break;              \r\n                  } else {\r\n                    ObjtResult = {\r\n                      created:res.data().created,\r\n                      from: res.data().from,\r\n                      text: res.data().text,\r\n                      picture:'assets/imgs/user.png'\r\n                    }  \r\n                  }                 \r\n                }\r\n                this.messages.push(ObjtResult)  \r\n              } else {\r\n                let ObjtResult;\r\n                ObjtResult = {\r\n                  created:res.data().created,\r\n                  from: res.data().from,\r\n                  text: res.data().text,\r\n                  picture:'assets/imgs/user.png'\r\n                };\r\n                this.messages.push(ObjtResult)   \r\n              } \r\n            })\r\n          })\r\n        }      \r\n      })\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Funcion que se ejecuta cuando se activa la seccion del chat, al mismo tiempo\r\n   * realiza la conexion con SOCKET.io, y llama la funcion getMessages() para obtener los mensajes del Socket\r\n   */\r\n\r\n  getChatSection() {    \r\n    this.db.collection('Config').valueChanges().subscribe(res=> {      \r\n      this.chatEnable =res[0]['Vivo']; \r\n      this.event = res[0]['chatEvent'];\r\n      this.segementHome = this.chatEnable ? 'chat' : 'list';  \r\n      if(this.chatEnable === true) {\r\n        this.booleanchatEnable = true;\r\n        if(this.nickname === '') {         \r\n          this.chatService.joinChat().then((nickname: UserInfo) => {                \r\n            this.nickname = nickname.name.toString(); \r\n            this.emailUserChat = nickname.email.toString();        \r\n          })        \r\n        }             \r\n      } else {\r\n        this.booleanchatEnable = false;\r\n        this.chatService.disconnect();\r\n        this.nickname = '';\r\n        this.messages = [];\r\n      };    \r\n    },err => this.showAlert(err,'Error FbConfig'));  \r\n  };\r\n\r\n  /**\r\n   * Funcion que realiza consulta a BD para obtener ID del evento, para luego obtener el IFRAME\r\n   * seguro para efectuar el INNERHTML en el DOM.\r\n   */\r\n\r\n  gethomeVideo() {\r\n    const promise = new Promise((resolve,reject)=> {\r\n      this.db.collection('Config').valueChanges().subscribe(res=> {           \r\n        this.iframe_html = this.embedService.embed_vimeo(res[0]['Idvivo'],{\r\n          query:{autoplay:1, loop:1, color:'ffff', portrait: 0},                \r\n          attr: { width:this.widthFrame, height: this.heightFrame }                 \r\n        });\r\n        resolve({videoConfig: res})\r\n      },err =>{ reject(err)}); \r\n    })\r\n    return promise;\r\n  };\r\n \r\n  /**\r\n   * Funcion que se ejecuta automaticamnete cuando la vista termina de cargar.\r\n   */\r\n\r\n  ionViewDidLoad() {\r\n    this.slides;\r\n    //console.log(this.slides)\r\n    var loading = this.loadingCtrl.create({\r\n      spinner: \"bubbles\",\r\n      content: \"Cargando...\"\r\n    });\r\n    loading.present();\r\n    this.getHomeGroups()\r\n    this.gethomeVideo().then(()=> {\r\n      this.loadMessges();         \r\n      this.getHomeGroups()\r\n      setTimeout(() => {     \r\n        loading.dismiss();\r\n      }, 1000);  \r\n    },err=> {\r\n      loading.dismiss();\r\n      this.showAlert(err,'Error de conexion')\r\n    });  \r\n    setTimeout(() => {     \r\n      loading.dismiss();\r\n    }, 2000);\r\n\r\n    this.loaded = true;\r\n  }\r\n\r\n  /**\r\n   * Funcion que envia un mensaje por meido de SOCKET.IO\r\n   */\r\n\r\n  sendMessage() { \r\n    if(this.message !== '') {\r\n      this.chatService.sendMessage(this.message); \r\n      this.message = '';\r\n    }  \r\n  }\r\n\r\n  /**\r\n   * Funcion para abrir la pagina de detalles del video \r\n   * @param groupItem objeto con la informacion del video\r\n   */\r\n\r\n  goToGroupItemDetails(groupItem: HomeScreenGroupItem) {\r\n    this.navCtrl.push(\"MovieDetailsPage\", { movieId: groupItem });   \r\n  }; \r\n \r\n  /**\r\n   * Funcion que se ejecuta al hacer swipe down en la pantalla\r\n   * para recargar el video \r\n   * @param refresher \r\n   */\r\n\r\n  doRefresh(refresher) {\r\n    this.photosArray = [];\r\n    this.messages = [];\r\n    this.db.collection('photos').valueChanges().forEach(elem => {\r\n     this.photosArray.push(elem);\r\n     // this.messages = [];\r\n    })\r\n    this.loadMessges();      \r\n    this.getHomeGroups()\r\n    this.gethomeVideo().then(res => {\r\n      console.log(res)\r\n      refresher.complete();\r\n    },err => {\r\n      this.showAlert(err,'Error al cargar')\r\n      refresher.complete();\r\n    }).catch(()=> refresher.complete())\r\n    setTimeout(() => {\r\n      refresher.complete()\r\n    }, 3000);   \r\n  };\r\n\r\n  /**\r\n   * Funcion para mostrar un toaster con cualuiqer funcion/metodo\r\n   * @param msg mensaje para mostrar en el toaster\r\n   */\r\n\r\n  showToast(msg) {\r\n    let toast = this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 2000      \r\n    });\r\n    toast.present();\r\n  };\r\n\r\n  /**\r\n   * Funcion para mostrar una alerta personalizada\r\n   * @param message mensaje para mostrar en el body de la alerta\r\n   * @param title  titulo para mostrar en el encabezado de la alerta\r\n   */\r\n\r\n  showAlert(message,title) {\r\n    let alert = this.alertCtrl.create({\r\n      title:title,\r\n      message:message,\r\n      buttons :[\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass:'btnalert-cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Ok',  \r\n          cssClass: 'btnalert-ok',\r\n          handler: data =>{ }\r\n        }\r\n      ]\r\n    }).present();\r\n  };\r\n\r\n  getCurrentUserPhoto(name):string {   \r\n    let photo;\r\n    let tmp =true;\r\n    let index = 0;\r\n    if(name == undefined) {\r\n      photo = 'assets/imgs/user.png'\r\n    } else {\r\n      do {        \r\n        if (this.photosArray[0][index]['name'] === name) {\r\n          photo = (this.photosArray[0][index]['base64']);\r\n          tmp = false;\r\n        } else {\r\n          index += 1;\r\n        };\r\n        if(index == this.photosArray[0].length) {\r\n          photo = 'assets/imgs/user.png'\r\n          tmp = false;\r\n        }\r\n      } while (tmp);  \r\n    }        \r\n    return photo;\r\n  }\r\n\r\n  getOtherUserPhoto(name) {\r\n    return this.db.collection('photos',ref => ref.where('name','==',name)).valueChanges();\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////  FUNCIONES NO UTLIZADAS EN ESTA VERSION /////////////////////////////////////////////////////////\r\n  // getHomeScreenGroups() {\r\n  //   var loading = this.loadingCtrl.create({\r\n  //     spinner: \"bubbles\",\r\n  //     content: \"Loading Home...\"\r\n  //   });\r\n\r\n  //   loading.present();\r\n\r\n  //   this.homeScreenService.getHomeScreenGroups().then((result: any) => {\r\n  //     this.homeScreenGroups = result.homeScreenGroups;\r\n\r\n  //     this.homeScreenGroups.forEach(homeScreenGroup => {\r\n  //       // Get home screen movies first\r\n  //       this.homeScreenService\r\n  //         .getHomeScreenGroupMovies(homeScreenGroup)\r\n  //         .then((result: any) => {\r\n  //           result.homeScreenGroupMovies.forEach((movie: Movie) => {\r\n  //             var movieGroupItem = new HomeScreenGroupItem();\r\n\r\n  //             movieGroupItem.itemId = movie.movieId;\r\n  //             movieGroupItem.picture = movie.picture;\r\n  //             movieGroupItem.isMovie = true;\r\n\r\n  //             homeScreenGroup.groupItems.push(movieGroupItem);\r\n  //           });\r\n\r\n  //           // Then get home screen tv shows\r\n  //           this.homeScreenService\r\n  //             .getHomeScreenGroupTvShows(homeScreenGroup)\r\n  //             .then((result: any) => {\r\n  //               result.homeScreenGroupTvShows.forEach((tvShow: TvShow) => {\r\n  //                 var movieGroupItem = new HomeScreenGroupItem();\r\n\r\n  //                 movieGroupItem.itemId = tvShow.tvShowId;\r\n  //                 movieGroupItem.picture = tvShow.picture;\r\n  //                 movieGroupItem.isMovie = false;\r\n\r\n  //                 homeScreenGroup.groupItems.push(movieGroupItem);\r\n  //               });\r\n\r\n  //               // Finally, shuffle them\r\n  //               homeScreenGroup.groupItems = Helper.shuffle(\r\n  //                 homeScreenGroup.groupItems\r\n  //               );\r\n  //             });\r\n  //         });\r\n  //     });\r\n\r\n  //     loading.dismiss();\r\n  //   });\r\n  // }\r\n  // playVideoTrailer() {\r\n  //   if (!this.platform.is(\"cordova\")) {\r\n  //     let alert = this.alertController.create({\r\n  //       title: \"Run on device\",\r\n  //       subTitle: \"This feature is only available on a device!\",\r\n  //       buttons: [\"Dismiss\"]\r\n    //     });\r\n  \r\n  //     alert.present();\r\n  //     return;\r\n  //   }\r\n\r\n  //   let options: StreamingVideoOptions = {\r\n  //     successCallback: () => {\r\n  //       console.log(\"Video played\");\r\n  //     },\r\n  //     errorCallback: e => {\r\n  //       console.log(\"Error streaming\");\r\n  //     },\r\n  //     orientation: \"landscape\",\r\n  //     shouldAutoClose: true,\r\n  //     controls: true\r\n  //   };\r\n\r\n  //   this.streamingMedia.playVideo(\r\n  //     \"https://firebasestorage.googleapis.com/v0/b/ionnetflix-72e25.appspot.com/o/Watch%20the%20Black%20Lightning%20Trailer.mp4?alt=media&token=3331cd39-f38b-4add-8d83-cec4c213b571\",\r\n  //     options\r\n  //   );\r\n  // };\r\n\r\n  home() {\r\n    this.navCtrl.setRoot('HomePage');\r\n  }\r\n\r\n  parrilla() {\r\n    this.navCtrl.push('ComingSoonPage')\r\n  }\r\n\r\n  buscar() {\r\n    this.navCtrl.push('SearchPage')\r\n  }\r\n  perfil() {\r\n    this.navCtrl.push('ProfilePage')\r\n  }\r\n  \r\n  signOut() {\r\n    var loading = this.loadingCtrl.create({\r\n      spinner: \"bubbles\",\r\n      content: \"Cerrando sesiÃ³n...\"\r\n    });\r\n    loading.present();\r\n    setTimeout(() => {\r\n      loading.dismiss();\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(() => {\r\n          this.zone.run(() => {\r\n            this.app.getRootNav().setRoot('SignInPage');\r\n          });\r\n        });\r\n    }, 500);\r\n  };\r\n\r\n  terminos() {\r\n    this.navCtrl.push('TermsPage')\r\n  }\r\n  public moveNext(index: number){     \r\n      \r\n      this.slides.toArray()[index].slideNext();     \r\n    \r\n  }\r\n\r\n  public movePrev(index: number){  \r\n    \r\n      this.slides.toArray()[index].slidePrev();  \r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}